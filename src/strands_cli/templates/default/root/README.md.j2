# {{ name }}

{{ description }}

## Overview

This is a Strands agent project generated using `strands-cli`. It includes:
- A Python-based Strands agent
- A FastAPI wrapper to expose the agent as an API
- Docker configuration for containerization

You can generate deployment assets (Helm charts and Kubernetes manifests) using the following commands:
- `strands-cli generate helm` - Creates Helm charts for deployment
- `strands-cli generate k8s` - Creates Kubernetes manifests

## Project Structure

```
{{ name }}/
├── agent/              # Strands agent implementation
├── api/                # FastAPI wrapper
├── deployment/         # Deployment configurations
│   └── docker/         # Docker configuration
└── scripts/            # Utility scripts
```

After running generate commands, additional directories will be created:
```
deployment/
├── helm/               # Generated by 'strands-cli generate helm'
└── k8s/                # Generated by 'strands-cli generate k8s'
```

## Development

### Prerequisites

- Python 3.8 or higher
- Docker
- Kubernetes CLI (kubectl)
- Helm

### Local Development

1. Set up a virtual environment:

```bash
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
pip install -e '.[dev]'
```

2. Install dependencies:

```bash
pip install -r deployment/docker/requirements.txt
```

3. Run the API locally:

```bash
python -m api.app
```

4. Run with Streamlit UI for interactive testing:

```bash
# From the project root directory
strands-cli run
```

This will:
- Build your agent image if needed
- Start your agent in a container
- Launch a Streamlit UI for interactive testing

You can access the UI at http://localhost:8501 and the agent API at http://localhost:8000.

> **Important for Docker Desktop users (macOS/Windows)**: You need to enable file sharing for your home directory to allow AWS credentials access. Go to Docker Desktop → Settings → Resources → File Sharing and add your home directory (e.g., `/Users/username`) to the list of shared folders. The agent container will mount your local `.aws` directory to `/home/appuser/.aws` inside the container.

Options:
```bash
# Custom ports
strands-cli run --port 3000 --agent-port 8080

# Run without UI (API only)
strands-cli run --no-ui

# Run in background
strands-cli run --detach

# Use an existing image instead of building locally
strands-cli run --image-uri registry/name:tag

# Specify AWS profile for credentials
strands-cli run --aws-profile myprofile
```

## Deployment

### Building the Docker Image

```bash
./scripts/build.sh
```

### Pushing to Container Registry

```bash
./scripts/push.sh
```

### Deploying to Amazon EKS

First, generate the deployment assets:

```bash
# Generate Helm chart with your specific configuration
strands-cli generate helm --image-uri your-registry/{{ name }} --image-tag latest

# OR generate Kubernetes manifests
strands-cli generate k8s --namespace your-namespace --image-uri your-registry/{{ name }} --image-tag latest
```

Then deploy using Helm:

```bash
helm upgrade --install {{ name }} ./deployment/helm \
  --namespace your-namespace \
  --create-namespace
```

Or deploy using raw Kubernetes manifests:

```bash
kubectl apply -f ./deployment/k8s/ -n your-namespace
```

## Configuration

### Environment Variables

- `PORT`: The port on which the API will listen (default: 8000)